{"options":{"validator":{"$jsonSchema":{"bsonType":"object","required":["_id","ownerToken","deviceID","virtualModel"],"additionalProperties":false,"properties":{"virtualModel":{"bsonType":"array","items":{"oneOf":[{"bsonType":"object","required":["type","readingType","units","dataType"],"properties":{"type":{"bsonType":"string","description":"Type of device action, must be reading","enum":["reading"]},"readingType":{"bsonType":"string","description":"Type of reading (like temperature), must be a string"},"units":{"description":"Units of reading (like celsius), must be a string","bsonType":"string"},"dataType":{"bsonType":"string","description":"Data type of reading, must be 'int', 'float' or 'double'","enum":["int","float","double"]}}},{"properties":{"type":{"bsonType":"string","description":"Type of device action, must be action","enum":["action"]}},"bsonType":"object","required":["type"],"additionalProperties":false}]}},"additionalInfo":{"bsonType":"object"},"_id":{"bsonType":"objectId"},"ownerToken":{"bsonType":"string","description":"Token to identify device with owner, must be string"},"deviceID":{"bsonType":"string","description":"Device ID to identify itself from other devices, must be a string and in the form of 'network/group/device'","pattern":"^[a-z0-9]+/[a-z0-9]+/[a-z0-9]+$"}}}},"validationLevel":"strict","validationAction":"error"},"indexes":[{"v":{"$numberInt":"2"},"key":{"_id":{"$numberInt":"1"}},"name":"_id_","ns":"IoTMiddleware.devices"},{"v":{"$numberInt":"2"},"unique":true,"key":{"ownerToken":{"$numberInt":"1"},"deviceID":{"$numberInt":"1"}},"name":"DeviceSearch","ns":"IoTMiddleware.devices","background":false},{"v":{"$numberInt":"2"},"key":{"ownerToken":{"$numberInt":"1"}},"name":"OwnerTokenSearch","ns":"IoTMiddleware.devices","background":true}],"uuid":"d9769c9a1f3b4eac978eee66da6ad9b2"}